"use strict";(self.webpackChunkfipt_site=self.webpackChunkfipt_site||[]).push([[595],{1595:function(e,a,r){r.r(a),r.d(a,{default:function(){return ne}});var n=r(885),t=r(2791),s=r(9085),i=r(3855),o=r(3360),c=r(4036),l=r(184),d=function(e){var a=e.users,r=e.onSubmit,d=(0,t.useState)(""),u=(0,n.Z)(d,2),m=u[0],f=u[1],p=(0,t.useState)(""),x=(0,n.Z)(p,2),v=x[0],h=x[1],Z=(0,t.useState)(""),b=(0,n.Z)(Z,2),j=b[0],g=b[1],y=function(e){switch(e.currentTarget.name){case"name":f(e.currentTarget.value);break;case"email":h(e.currentTarget.value);break;case"password":g(e.currentTarget.value);break;default:return}};return(0,l.jsx)(c.Box,{children:(0,l.jsxs)(i.Z,{onSubmit:function(e){if(e.preventDefault(),a.find((function(e){return e.email===v})))return s.Am.warning("".concat(v," is already in users!"),{position:s.Am.POSITION.TOP_RIGHT}),!1;r({name:m,email:v,password:j}),f(""),h(""),g("")},children:[(0,l.jsxs)(i.Z.Group,{className:"mb-2",controlId:"formBasicName",children:[(0,l.jsx)(i.Z.Label,{children:"\u041f\u0406\u0411 \u0441\u0442\u0443\u0434\u0435\u043d\u0442\u0430"}),(0,l.jsx)(i.Z.Control,{type:"text",name:"name",value:m,onChange:y,pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f\u0430-\u0457\u0491\u0404-\u042f\u0490]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f\u0430-\u0457\u0491\u0404-\u042f\u0490 ])?[a-zA-Z\u0430-\u044f\u0410-\u042f\u0430-\u0457\u0491\u0404-\u042f\u0490]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces.",autoComplete:"off",required:!0})]}),(0,l.jsxs)(i.Z.Group,{className:"mb-2",controlId:"formBasicEmail",children:[(0,l.jsx)(i.Z.Label,{children:"Email \u0441\u0442\u0443\u0434\u0435\u043d\u0442\u0430"}),(0,l.jsx)(i.Z.Control,{type:"mail",name:"email",value:v,onChange:y,pattern:"^([\\w\\.\\-]+)@([\\w\\-]+)((\\.(\\w){2,3})+)$",autoComplete:"off",required:!0})]}),(0,l.jsxs)(i.Z.Group,{className:"mb-2",controlId:"formBasicPassword",children:[(0,l.jsx)(i.Z.Label,{children:"\u041f\u0430\u0441\u043f\u043e\u0440\u0442 \u0441\u0442\u0443\u0434\u0435\u043d\u0442\u0430"}),(0,l.jsx)(i.Z.Control,{type:"text",name:"password",minLength:"8",value:j,onChange:y,autoComplete:"off",required:!0})]}),(0,l.jsx)(o.Z,{variant:"primary",type:"submit",children:"\u0414\u043e\u0434\u0430\u0442\u0438 \u0432 \u0431\u0430\u0437\u0443"})]})})},u=r(6930),m=function(e){var a=e.id,r=e.name,t=(e.email,e.password,e.open),s=e.getUserById,i=(0,u.k3)(),c=(0,n.Z)(i,2),d=c[0],m=c[1].isLoading;return(0,l.jsxs)("div",{children:[(0,l.jsxs)("p",{className:"mb-2",children:[(0,l.jsx)("b",{children:"Name:"})," ",r,(0,l.jsx)("br",{})]}),(0,l.jsx)(o.Z,{variant:"outline-secondary",size:"sm",type:"button",onClick:function(){s(a),t()},children:"\u0414\u043e\u043a\u043b\u0430\u0434\u043d\u043e"}),(0,l.jsx)(o.Z,{variant:"outline-secondary",size:"sm",type:"button",disabled:m,onClick:function(){d(a)},children:"\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438"})]})},f=r(7022),p=r(1413),x=r(5987),v=r(1694),h=r.n(v),Z=(r(2391),r(239)),b=r(7503),j=r(162),g=r(9007),y=r(4787),C=r(8633),w=["bsPrefix","active","disabled","eventKey","className","variant","action","as"],N=t.forwardRef((function(e,a){var r=e.bsPrefix,t=e.active,s=e.disabled,i=e.eventKey,o=e.className,c=e.variant,d=e.action,u=e.as,m=(0,x.Z)(e,w);r=(0,j.vE)(r,"list-group-item");var f=(0,y.v)((0,p.Z)({key:(0,C.h)(i,m.href),active:t},m)),v=(0,n.Z)(f,2),Z=v[0],b=v[1],N=(0,g.Z)((function(e){if(s)return e.preventDefault(),void e.stopPropagation();Z.onClick(e)}));s&&void 0===m.tabIndex&&(m.tabIndex=-1,m["aria-disabled"]=!0);var I=u||(d?m.href?"a":"button":"div");return(0,l.jsx)(I,(0,p.Z)((0,p.Z)((0,p.Z)({ref:a},m),Z),{},{onClick:N,className:h()(o,r,b.isActive&&"active",s&&"disabled",c&&"".concat(r,"-").concat(c),d&&"".concat(r,"-action"))}))}));N.displayName="ListGroupItem";var I=N,k=["className","bsPrefix","variant","horizontal","numbered","as"],P=t.forwardRef((function(e,a){var r,n=(0,Z.Ch)(e,{activeKey:"onSelect"}),t=n.className,s=n.bsPrefix,i=n.variant,o=n.horizontal,c=n.numbered,d=n.as,u=void 0===d?"div":d,m=(0,x.Z)(n,k),f=(0,j.vE)(s,"list-group");return o&&(r=!0===o?"horizontal":"horizontal-".concat(o)),(0,l.jsx)(b.Z,(0,p.Z)((0,p.Z)({ref:a},m),{},{as:u,className:h()(t,f,i&&"".concat(f,"-").concat(i),r&&"".concat(f,"-").concat(r),c&&"".concat(f,"-numbered"))}))}));P.displayName="ListGroup";var S=Object.assign(P,{Item:I}),L=function(e){var a=e.users,r=e.open,n=e.getUserById;return(0,l.jsx)(f.Z,{children:(0,l.jsx)(S,{variant:"flush",children:a.map((function(e){return(0,l.jsx)(S.Item,{children:(0,l.jsx)(m,{id:e._id,name:e.name,email:e.email,password:e.password,open:r,getUserById:n})},e._id)}))})})},T=function(e){var a=e.name,r=e.onChange;return(0,l.jsx)(c.Box,{children:(0,l.jsx)(i.Z,{children:(0,l.jsxs)(i.Z.Group,{className:"mb-2",controlId:"formBasicName",children:[(0,l.jsx)(i.Z.Label,{children:"\u0424\u0456\u043b\u044c\u0442\u0440"}),(0,l.jsx)(i.Z.Control,{type:"text",name:"find",value:a,onChange:r})]})})})},B=r(6543),z=(0,B.Z)("card-group"),O=r(7472),A=["bsPrefix","className","variant","as"],G=t.forwardRef((function(e,a){var r=e.bsPrefix,n=e.className,t=e.variant,s=e.as,i=void 0===s?"img":s,o=(0,x.Z)(e,A),c=(0,j.vE)(r,"card-img");return(0,l.jsx)(i,(0,p.Z)({ref:a,className:h()(t?"".concat(c,"-").concat(t):c,n)},o))}));G.displayName="CardImg";var _=G,E=r(6040),R=["bsPrefix","className","as"],q=t.forwardRef((function(e,a){var r=e.bsPrefix,n=e.className,s=e.as,i=void 0===s?"div":s,o=(0,x.Z)(e,R),c=(0,j.vE)(r,"card-header"),d=(0,t.useMemo)((function(){return{cardHeaderBsPrefix:c}}),[c]);return(0,l.jsx)(E.Z.Provider,{value:d,children:(0,l.jsx)(i,(0,p.Z)((0,p.Z)({ref:a},o),{},{className:h()(n,c)}))})}));q.displayName="CardHeader";var D=q,H=["bsPrefix","className","bg","text","border","body","children","as"],K=(0,O.Z)("h5"),U=(0,O.Z)("h6"),$=(0,B.Z)("card-body"),M=(0,B.Z)("card-title",{Component:K}),F=(0,B.Z)("card-subtitle",{Component:U}),V=(0,B.Z)("card-link",{Component:"a"}),J=(0,B.Z)("card-text",{Component:"p"}),Q=(0,B.Z)("card-footer"),W=(0,B.Z)("card-img-overlay"),X=t.forwardRef((function(e,a){var r=e.bsPrefix,n=e.className,t=e.bg,s=e.text,i=e.border,o=e.body,c=e.children,d=e.as,u=void 0===d?"div":d,m=(0,x.Z)(e,H),f=(0,j.vE)(r,"card");return(0,l.jsx)(u,(0,p.Z)((0,p.Z)({ref:a},m),{},{className:h()(n,f,t&&"bg-".concat(t),s&&"text-".concat(s),i&&"border-".concat(i)),children:o?(0,l.jsx)($,{children:c}):c}))}));X.displayName="Card",X.defaultProps={body:!1};var Y=Object.assign(X,{Img:_,Title:M,Subtitle:F,Body:$,Link:V,Text:J,Header:D,Footer:Q,ImgOverlay:W}),ee=function(e){var a=e.users,r=e.user,c=e.onSubmit,d=e.close,u=(0,t.useState)(r.name),m=(0,n.Z)(u,2),f=m[0],p=m[1],x=(0,t.useState)(r.email),v=(0,n.Z)(x,2),h=v[0],Z=v[1],b=(0,t.useState)(r.password),j=(0,n.Z)(b,2),g=j[0],y=j[1],C=(0,t.useState)(r._id),w=(0,n.Z)(C,2),N=w[0],I=w[1],k=function(e){switch(e.currentTarget.name){case"name":p(e.currentTarget.value);break;case"email":Z(e.currentTarget.value);break;case"password":y(e.currentTarget.value);break;default:return}};return(0,l.jsx)(z,{style:{height:"100%",width:"100%",position:"absolute",zIndex:1,backgroundColor:"#fff"},children:(0,l.jsx)(Y,{style:{padding:"20px"},children:(0,l.jsxs)(i.Z,{onSubmit:function(e){e.preventDefault();var n=r._id;if(a.find((function(e){return e.email===h&&e._id!==n})))return s.Am.warning("".concat(h," is already in users!"),{position:s.Am.POSITION.TOP_RIGHT}),!1;c({id:r._id,name:f,email:h,password:g}),p(""),Z(""),y(""),I(""),d()},children:[(0,l.jsxs)(i.Z.Group,{className:"mb-2",controlId:"formBasicName",children:[(0,l.jsx)(i.Z.Label,{children:"\u041f\u0406\u0411 \u0441\u0442\u0443\u0434\u0435\u043d\u0442\u0430"}),(0,l.jsx)(i.Z.Control,{type:"text",name:"name",value:f,onChange:k,pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f\u0430-\u0457\u0491\u0404-\u042f\u0490]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f\u0430-\u0457\u0491\u0404-\u042f\u0490 ])?[a-zA-Z\u0430-\u044f\u0410-\u042f\u0430-\u0457\u0491\u0404-\u042f\u0490]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces.",autoComplete:"off",required:!0})]}),(0,l.jsxs)(i.Z.Group,{className:"mb-2",controlId:"formBasicEmail",children:[(0,l.jsx)(i.Z.Label,{children:"Email \u0441\u0442\u0443\u0434\u0435\u043d\u0442\u0430"}),(0,l.jsx)(i.Z.Control,{type:"mail",name:"email",value:h,onChange:k,pattern:"^([\\w\\.\\-]+)@([\\w\\-]+)((\\.(\\w){2,3})+)$",autoComplete:"off",required:!0})]}),(0,l.jsxs)(i.Z.Group,{className:"mb-2",controlId:"formBasicPassword",children:[(0,l.jsx)(i.Z.Label,{children:"\u041f\u0430\u0441\u043f\u043e\u0440\u0442 \u0441\u0442\u0443\u0434\u0435\u043d\u0442\u0430"}),(0,l.jsx)(i.Z.Control,{type:"text",name:"password",minLength:"8",value:g,onChange:k,autoComplete:"off",required:!0})]}),(0,l.jsxs)(i.Z.Group,{className:"mb-2",controlId:"formBasicPassword",children:[(0,l.jsx)(i.Z.Label,{children:"\u041f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u044c\u043d\u0438\u0439 ID"}),(0,l.jsx)(i.Z.Control,{type:"text",name:"cardid",minLength:"6",value:N,disabled:!0})]}),(0,l.jsx)(o.Z,{variant:"primary",type:"submit",children:"\u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438 \u0437\u043c\u0456\u043d\u0438"}),(0,l.jsx)(o.Z,{variant:"primary",style:{marginLeft:"30px"},type:"button",onClick:function(){d()},children:"\u041f\u043e\u0432\u0435\u0440\u043d\u0443\u0442\u0438\u0441\u044c"})]})})})},ae=r(5048),re=r(1092),ne=function(){var e=(0,ae.I0)(),a=(0,t.useState)({}),r=(0,n.Z)(a,2),s=r[0],i=r[1],o=function(){var e=(0,t.useState)(!1),a=(0,n.Z)(e,2),r=a[0],s=a[1];return{isOpen:r,open:function(){return s(!0)},close:function(){return s(!1)},toggle:function(){return s((function(e){return!e}))}}}(),c=o.isOpen,m=o.open,p=o.close,x=(0,ae.v9)(re.zK),v=(0,u.wv)("",{refetchOnMountOrArgChange:!0}),h=v.data,Z=v.isLoading,b=v.isSuccess,j=(0,u.Vx)(),g=(0,n.Z)(j,1)[0],y=(0,u.kD)(),C=(0,n.Z)(y,1)[0],w=x.trim()?h.filter((function(e){return e.name.toLowerCase().includes(x.toLowerCase())})):h;return(0,l.jsxs)(f.Z,{className:"mt-2",style:{position:"relative"},children:[c&&(0,l.jsx)(ee,{users:h,user:s,close:p,onSubmit:function(e){var a=e.id,r=e.name,n=e.email,t=e.password;C({userId:a,name:r,email:n,password:t})}}),!Z&&b&&(0,l.jsxs)(z,{children:[(0,l.jsx)(Y,{children:(0,l.jsxs)(Y.Body,{children:[(0,l.jsx)(Y.Title,{children:"\u041d\u043e\u0432\u0438\u0439 \u0441\u0442\u0443\u0434\u0435\u043d\u0442"}),(0,l.jsx)(d,{users:h,onSubmit:function(e){var a=e.name,r=e.email,n=e.password;g({name:a,email:r,password:n})}})]})}),(0,l.jsx)(Y,{children:(0,l.jsxs)(Y.Body,{children:[(0,l.jsx)(Y.Title,{children:"\u0421\u0442\u0443\u0434\u0435\u043d\u0442\u0438 \u0444\u0430\u043a\u0443\u043b\u044c\u0442\u0435\u0442\u0443"}),(0,l.jsx)(T,{name:x,onChange:function(a){e((0,re.Tv)(a.target.value))}}),(0,l.jsx)(L,{users:w,open:m,getUserById:function(e){i(h.find((function(a){return a._id===e})))}})]})})]})]})}}}]);
//# sourceMappingURL=595.2f51bce7.chunk.js.map